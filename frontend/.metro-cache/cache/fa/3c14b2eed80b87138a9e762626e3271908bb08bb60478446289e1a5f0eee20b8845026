{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":188,"column":1,"index":5558}}],"key":"7kvm5yrOpz4NYiDi6sn4qxa8DVQ="}},{"name":"../addEventListener","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":10,"column":0,"index":181},"end":{"line":10,"column":55,"index":236}}],"key":"VZnh8Ur+fdyqMBldwbpLrv8DoVc="}},{"name":"../canUseDom","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":11,"column":0,"index":237},"end":{"line":11,"column":37,"index":274}}],"key":"frieLGkJ5XGFoV1DKcNOFp/iszY="}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,\"__esModule\",{value:!0}),e.addModalityListener=function(t){return y.add(t),()=>{y.delete(t)}},e.getActiveModality=function(){return l},e.getModality=function(){return s},e.testOnly_resetActiveModality=function(){v=!1,l=f,s=f};var n,o,u=r(d[1]),c=t(r(d[2])),l='keyboard',s='keyboard',v=!1,y=new Set,f='keyboard',p='mouse',E='touch',L='contextmenu',h='mousedown',w='mousemove',b='mouseup',M='pointerdown',T='pointermove',_='scroll',k='selectionchange',K='touchcancel',A='touchmove',O='touchstart',P={passive:!0},S={capture:!0,passive:!0};function j(){null==n&&null==o||(null!=n&&(s=n,n=null),null!=o&&(l=o,o=null),q())}function x(t){var n=t.type;if(null!=window.PointerEvent){if(n===M)return void(l!==t.pointerType&&(s=t.pointerType,l=t.pointerType,q()));if(n===T)return void(s!==t.pointerType&&(s=t.pointerType,q()))}else{if(v||(n===h&&l!==p&&(s=p,l=p,q()),n===w&&s!==p&&(s=p,q())),n===O)return v=!0,t.touches&&t.touches.length>1&&(v=!1),void(l!==E&&(s=E,l=E,q()));n!==L&&n!==b&&n!==k&&n!==_&&n!==K&&n!==A||(v=!1)}}function q(){var t={activeModality:l,modality:s};y.forEach(n=>{n(t)})}c.default&&((0,u.addEventListener)(window,'blur',function(){n=s,o=l,l=f,s=f,q(),v=!1},P),(0,u.addEventListener)(window,'focus',function(){j()},P),(0,u.addEventListener)(document,'keydown',function(t){t.metaKey||t.altKey||t.ctrlKey||s!==f&&(s=f,l=f,q())},S),(0,u.addEventListener)(document,'visibilitychange',function(){'hidden'!==document.visibilityState&&j()},S),(0,u.addEventListener)(document,M,x,S),(0,u.addEventListener)(document,T,x,S),(0,u.addEventListener)(document,L,x,S),(0,u.addEventListener)(document,h,x,S),(0,u.addEventListener)(document,w,x,S),(0,u.addEventListener)(document,b,x,S),(0,u.addEventListener)(document,K,x,S),(0,u.addEventListener)(document,A,x,S),(0,u.addEventListener)(document,O,x,S),(0,u.addEventListener)(document,k,x,S),(0,u.addEventListener)(document,_,x,S))});","lineCount":1,"map":[[1,113,178,7],[1,122,178,36,"listener"],[1,125,180,2],[1,132,179,2,"listeners"],[1,134,179,12,"add"],[1,138,179,16,"listener"],[1,141,180,9],[1,146,181,4,"listeners"],[1,148,181,14,"delete"],[1,155,181,21,"listener"],[1,158,183,0],[1,160],[1,180,172,7],[1,191,173,2],[1,198,173,9,"activeModality"],[1,199,174,0],[1,201],[1,215,175,7],[1,226,176,2],[1,233,176,9,"modality"],[1,234,177,0],[1,236],[1,267,184,7],[1,278,185,2,"isEmulatingMouseEvents"],[1,281,185,27],[1,283,186,2,"activeModality"],[1,285,186,19,"KEYBOARD"],[1,287,187,2,"modality"],[1,289,187,13,"KEYBOARD"],[1,290,188,0],[1,292,10,0],[1,296,15,4,"previousModality"],[1,298,16,4,"previousActiveModality"],[1,300,10,0,"_addEventListener"],[1,302,10,0,"r"],[1,304,10,0,"d"],[1,306,10,0],[1,310,11,0,"_canUseDom"],[1,312,11,0,"_interopRequireDefault"],[1,314,11,0,"r"],[1,316,11,0,"d"],[1,318,11,0],[1,323,13,4,"activeModality"],[1,325,13,21],[1,336,14,4,"modality"],[1,338,14,15],[1,349,17,4,"isEmulatingMouseEvents"],[1,352,17,29],[1,354,18,4,"listeners"],[1,356,18,16],[1,360,18,20,"Set"],[1,364,19,4,"KEYBOARD"],[1,366,19,15],[1,377,20,4,"MOUSE"],[1,379,20,12],[1,387,21,4,"TOUCH"],[1,389,21,12],[1,397,23,4,"CONTEXTMENU"],[1,399,23,18],[1,413,26,4,"MOUSEDOWN"],[1,415,26,16],[1,427,27,4,"MOUSEMOVE"],[1,429,27,16],[1,441,28,4,"MOUSEUP"],[1,443,28,14],[1,453,29,4,"POINTERDOWN"],[1,455,29,18],[1,469,30,4,"POINTERMOVE"],[1,471,30,18],[1,485,31,4,"SCROLL"],[1,487,31,13],[1,496,32,4,"SELECTIONCHANGE"],[1,498,32,22],[1,516,33,4,"TOUCHCANCEL"],[1,518,33,18],[1,532,34,4,"TOUCHMOVE"],[1,534,34,16],[1,546,35,4,"TOUCHSTART"],[1,548,35,17],[1,561,37,4,"bubbleOptions"],[1,563,37,20],[1,564,38,2,"passive"],[1,573,38,11],[1,576,40,4,"captureOptions"],[1,578,40,21],[1,579,41,2,"capture"],[1,588,41,11],[1,590,42,2,"passive"],[1,599,42,11],[1,602,44,0],[1,611,44,9,"restoreModality"],[1,615,45,26],[1,621,45,6,"previousModality"],[1,624,45,60],[1,630,45,34,"previousActiveModality"],[1,634,46,28],[1,640,46,8,"previousModality"],[1,644,47,6,"modality"],[1,646,47,17,"previousModality"],[1,648,48,6,"previousModality"],[1,650,48,25],[1,656,50,34],[1,662,50,8,"previousActiveModality"],[1,666,51,6,"activeModality"],[1,668,51,23,"previousActiveModality"],[1,670,52,6,"previousActiveModality"],[1,672,52,31],[1,678,54,4,"callListeners"],[1,682,56,0],[1,683,84,0],[1,692,84,9,"onPointerish"],[1,694,84,22,"event"],[1,697,85,2],[1,701,85,6,"eventType"],[1,703,85,18,"event"],[1,705,85,24,"type"],[1,710,86,2],[1,713,12,92],[1,719,12,69,"window"],[1,726,12,76,"PointerEvent"],[1,739,86,30],[1,740,87,4],[1,743,87,8,"eventType"],[1,747,87,22,"POINTERDOWN"],[1,749,93,6],[1,761,88,10,"activeModality"],[1,765,88,29,"event"],[1,767,88,35,"pointerType"],[1,781,89,8,"modality"],[1,783,89,19,"event"],[1,785,89,25,"pointerType"],[1,797,90,8,"activeModality"],[1,799,90,25,"event"],[1,801,90,31,"pointerType"],[1,813,91,8,"callListeners"],[1,819,95,4],[1,822,95,8,"eventType"],[1,826,95,22,"POINTERMOVE"],[1,828,100,6],[1,840,96,10,"modality"],[1,844,96,23,"event"],[1,846,96,29,"pointerType"],[1,860,97,8,"modality"],[1,862,97,19,"event"],[1,864,97,25,"pointerType"],[1,876,98,8,"callListeners"],[1,881,102,2],[1,886,104,7],[1,887,122,4],[1,890,105,9,"isEmulatingMouseEvents"],[1,894,106,10,"eventType"],[1,898,106,24,"MOUSEDOWN"],[1,901,107,12,"activeModality"],[1,905,107,31,"MOUSE"],[1,909,108,10,"modality"],[1,911,108,21,"MOUSE"],[1,913,109,10,"activeModality"],[1,915,109,27,"MOUSE"],[1,917,110,10,"callListeners"],[1,922,113,10,"eventType"],[1,926,113,24,"MOUSEMOVE"],[1,929,114,12,"modality"],[1,933,114,25,"MOUSE"],[1,937,115,10,"modality"],[1,939,115,21,"MOUSE"],[1,941,116,10,"callListeners"],[1,947,122,8,"eventType"],[1,951,122,22,"TOUCHSTART"],[1,953,132,6],[1,960,123,6,"isEmulatingMouseEvents"],[1,963,123,31],[1,965,124,10,"event"],[1,967,124,16,"touches"],[1,976,124,27,"event"],[1,978,124,33,"touches"],[1,986,124,41,"length"],[1,993,124,50],[1,997,125,8,"isEmulatingMouseEvents"],[1,1000,125,33],[1,1008,127,10,"activeModality"],[1,1012,127,29,"TOUCH"],[1,1016,128,8,"modality"],[1,1018,128,19,"TOUCH"],[1,1020,129,8,"activeModality"],[1,1022,129,25,"TOUCH"],[1,1024,130,8,"callListeners"],[1,1030,137,8,"eventType"],[1,1034,137,22,"CONTEXTMENU"],[1,1037,137,37,"eventType"],[1,1041,137,51,"MOUSEUP"],[1,1044,137,62,"eventType"],[1,1048,137,76,"SELECTIONCHANGE"],[1,1051,137,95,"eventType"],[1,1055,137,109,"SCROLL"],[1,1058,137,119,"eventType"],[1,1062,137,133,"TOUCHCANCEL"],[1,1065,137,148,"eventType"],[1,1069,137,162,"TOUCHMOVE"],[1,1073,138,6,"isEmulatingMouseEvents"],[1,1076,138,31],[1,1078,140,2],[1,1079,141,0],[1,1080,163,0],[1,1089,163,9,"callListeners"],[1,1093,164,2],[1,1097,164,6,"value"],[1,1099,164,14],[1,1100,165,4,"activeModality"],[1,1117,166,4,"modality"],[1,1129,168,2,"listeners"],[1,1131,168,12,"forEach"],[1,1139,168,20,"listener"],[1,1143,169,4,"listener"],[1,1145,169,13,"value"],[1,1149,171,0],[1,1150,142,4,"canUseDOM"],[1,1163,144,2],[1,1165,144,2,"addEventListener"],[1,1185,144,19,"window"],[1,1192,22,11],[1,1199,57,0],[1,1210,58,2,"previousModality"],[1,1212,58,21,"modality"],[1,1214,59,2,"previousActiveModality"],[1,1216,59,27,"activeModality"],[1,1218,60,2,"activeModality"],[1,1220,60,19,"KEYBOARD"],[1,1222,61,2,"modality"],[1,1224,61,13,"KEYBOARD"],[1,1226,62,2,"callListeners"],[1,1230,64,2,"isEmulatingMouseEvents"],[1,1233,64,27],[1,1234,65,0],[1,1236,144,47,"bubbleOptions"],[1,1240,145,2],[1,1242,145,2,"addEventListener"],[1,1262,145,19,"window"],[1,1269,24,12],[1,1277,66,0],[1,1288,67,2,"restoreModality"],[1,1291,68,0],[1,1293,145,49,"bubbleOptions"],[1,1297,148,2],[1,1299,148,2,"addEventListener"],[1,1319,148,19,"document"],[1,1328,25,14],[1,1338,69,0],[1,1347,69,19,"event"],[1,1350,70,6,"event"],[1,1352,70,12,"metaKey"],[1,1361,70,23,"event"],[1,1363,70,29,"altKey"],[1,1371,70,39,"event"],[1,1373,70,45,"ctrlKey"],[1,1382,73,6,"modality"],[1,1386,73,19,"KEYBOARD"],[1,1390,74,4,"modality"],[1,1392,74,15,"KEYBOARD"],[1,1394,75,4,"activeModality"],[1,1396,75,21,"KEYBOARD"],[1,1398,76,4,"callListeners"],[1,1402,78,0],[1,1404,148,49,"captureOptions"],[1,1408,149,2],[1,1410,149,2,"addEventListener"],[1,1430,149,19,"document"],[1,1439,36,23],[1,1458,79,0],[1,1469,80,35],[1,1480,80,6,"document"],[1,1489,80,15,"visibilityState"],[1,1506,81,4,"restoreModality"],[1,1509,83,0],[1,1511,149,67,"captureOptions"],[1,1515,150,2],[1,1517,150,2,"addEventListener"],[1,1537,150,19,"document"],[1,1546,150,29,"POINTERDOWN"],[1,1548,150,42,"onPointerish"],[1,1550,150,56,"captureOptions"],[1,1554,151,2],[1,1556,151,2,"addEventListener"],[1,1576,151,19,"document"],[1,1585,151,29,"POINTERMOVE"],[1,1587,151,42,"onPointerish"],[1,1589,151,56,"captureOptions"],[1,1593,153,2],[1,1595,153,2,"addEventListener"],[1,1615,153,19,"document"],[1,1624,153,29,"CONTEXTMENU"],[1,1626,153,42,"onPointerish"],[1,1628,153,56,"captureOptions"],[1,1632,154,2],[1,1634,154,2,"addEventListener"],[1,1654,154,19,"document"],[1,1663,154,29,"MOUSEDOWN"],[1,1665,154,40,"onPointerish"],[1,1667,154,54,"captureOptions"],[1,1671,155,2],[1,1673,155,2,"addEventListener"],[1,1693,155,19,"document"],[1,1702,155,29,"MOUSEMOVE"],[1,1704,155,40,"onPointerish"],[1,1706,155,54,"captureOptions"],[1,1710,156,2],[1,1712,156,2,"addEventListener"],[1,1732,156,19,"document"],[1,1741,156,29,"MOUSEUP"],[1,1743,156,38,"onPointerish"],[1,1745,156,52,"captureOptions"],[1,1749,157,2],[1,1751,157,2,"addEventListener"],[1,1771,157,19,"document"],[1,1780,157,29,"TOUCHCANCEL"],[1,1782,157,42,"onPointerish"],[1,1784,157,56,"captureOptions"],[1,1788,158,2],[1,1790,158,2,"addEventListener"],[1,1810,158,19,"document"],[1,1819,158,29,"TOUCHMOVE"],[1,1821,158,40,"onPointerish"],[1,1823,158,54,"captureOptions"],[1,1827,159,2],[1,1829,159,2,"addEventListener"],[1,1849,159,19,"document"],[1,1858,159,29,"TOUCHSTART"],[1,1860,159,41,"onPointerish"],[1,1862,159,55,"captureOptions"],[1,1866,160,2],[1,1868,160,2,"addEventListener"],[1,1888,160,19,"document"],[1,1897,160,29,"SELECTIONCHANGE"],[1,1899,160,46,"onPointerish"],[1,1901,160,60,"captureOptions"],[1,1905,161,2],[1,1907,161,2,"addEventListener"],[1,1927,161,19,"document"],[1,1936,161,29,"SCROLL"],[1,1938,161,37,"onPointerish"],[1,1940,161,51,"captureOptions"],[1,1943,188,1],[1,1946]],"functionMap":{"names":["<global>","supportsPointerEvent","restoreModality","onBlurWindow","onFocusWindow","onKeyDown","onVisibilityChange","onPointerish","callListeners","listeners.forEach$argument_0","getActiveModality","getModality","addModalityListener","<anonymous>","testOnly_resetActiveModality"],"mappings":"AAA;2BCW,sED;AEgC;CFY;AGC;CHQ;AIC;CJE;AKC;CLS;AMC;CNI;AOC;CPyD;AQsB;oBCK;GDE;CRC;OUC;CVE;OWC;CXE;OYC;SCE;GDE;CZC;OcC"}},"type":"js/module"}]}